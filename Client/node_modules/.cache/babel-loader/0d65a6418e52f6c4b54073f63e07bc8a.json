{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\834043\\\\Desktop\\\\study\\\\Personal_Web_Site\\\\client\\\\src\\\\Components\\\\Registration.jsx\";\nimport React, { useState } from \"react\";\nimport { Button, Form, Col, Alert } from 'react-bootstrap';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\n\nfunction Register(props) {\n  const [validated, setValidated] = useState(false);\n  const [userID, setUserId] = useState(null);\n  const [password, setPassword] = useState(null);\n  const [confirmPassword, setConfirmPassword] = useState(null);\n  const [confirmPassword_invalid, setConfirmPassword_invalid] = useState();\n  const [firstName, setFirstName] = useState(null);\n  const [lastName, setLastName] = useState(null);\n  const [email, setEmail] = useState(null);\n  const [userIdFeedBack, setUserIdFeedBack] = useState(null);\n  const [emailFeedBack, setEmailFeedBack] = useState(null);\n  const [userIdInvalid, setUserIdInvalid] = useState();\n  const [emailInvalid, setEmailInvalid] = useState();\n  const [passwordInvalid, setPasswordInvalid] = useState();\n  const userMessage = 'A user with that user name already exists';\n  const emailMessage = 'A user with that email already exists';\n\n  let _userID;\n\n  let _password;\n\n  let _confirm_password;\n\n  let _uploadResult;\n\n  let history = useHistory();\n\n  const handleSubmit = event => {\n    const form = event.currentTarget;\n\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n      setValidated(true);\n    } else {\n      event.preventDefault();\n      const user_data = {\n        userID: userID,\n        password: password,\n        firstName: firstName,\n        lastName: lastName,\n        email: email\n      };\n      axios.post(\"/registration\", user_data).then(response => {\n        _uploadResult = response.data;\n        console.log(response);\n\n        if (_uploadResult === 'Registration success') {\n          alert(\"Signing Up Success! Please Login Again\");\n          history.push('/login');\n        } else {\n          console.log(response.data);\n\n          if (_uploadResult == 'userID, email duplication') {\n            setUserIdInvalid(true);\n            setUserIdFeedBack(userMessage);\n            setEmailInvalid(true);\n            setEmailFeedBack(emailMessage);\n          }\n\n          if (_uploadResult == 'userID duplication') {\n            setUserIdInvalid(true);\n            setUserIdFeedBack(userMessage);\n          }\n\n          if (_uploadResult == 'email duplication') {\n            setEmailInvalid(true);\n            setEmailFeedBack(emailMessage);\n          }\n        }\n      }).catch(function (error) {\n        console.log(error.message);\n        history.push(`/errorpage/${error.status}/${\"Registration\"}/${error.message}`);\n      });\n    }\n  };\n\n  const onChangeUserID = e => {\n    _userID = e.target.value;\n\n    if (_userID === undefined || _userID.length < 8 || _userID.length > 20) {\n      setUserIdInvalid(true);\n      setUserIdFeedBack(\"Please choose a user ID with 8 to 20 characters.\");\n    } else {\n      setUserIdInvalid(false);\n      setUserId(_userID);\n    }\n  }; //validating password, password must be between 8 and 20 letter.\n\n\n  const onChangePassword = e => {\n    _password = e.target.value;\n\n    if (_password === undefined || _password.length < 8 || _password.length > 20) {\n      setPasswordInvalid(true);\n      setPassword(_password);\n    } else if (confirmPassword != null && _password != confirmPassword) {\n      setPasswordInvalid(false);\n      setConfirmPassword_invalid(true);\n      setPassword(_password);\n    } else if (confirmPassword != null && _password === confirmPassword) {\n      setPasswordInvalid(false);\n      setConfirmPassword_invalid(false);\n      setPassword(_password);\n    } else {\n      setPasswordInvalid(() => false);\n      setPassword(_password);\n\n      if (_password != confirmPassword) {\n        setConfirmPassword_invalid(true);\n      }\n    }\n  }; //validating confirm password, confirm password must be between 8 and 20 letter and the same as password.\n\n\n  const onChangeConfirmPassword = e => {\n    _confirm_password = e.target.value;\n\n    if (_confirm_password === undefined || _confirm_password.length < 8 || _confirm_password.length > 20) {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    } else if (password != null && _confirm_password != password) {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    } else if (password != null && _confirm_password === password) {\n      setConfirmPassword_invalid(false);\n      setConfirmPassword(_confirm_password);\n    } else {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    }\n  }; //First name, last name, email are required\n\n\n  const onChangeFirstName = e => {\n    const first_Name = e.target.value;\n    setFirstName(first_Name);\n  };\n\n  const onChangeLastName = e => {\n    const last_Name = e.target.value;\n    setLastName(last_Name);\n  };\n\n  const onChangeEmail = e => {\n    const e_mail = e.target.value;\n    setEmail(e_mail);\n    const regExp = /^[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/i;\n\n    if (!regExp.test(e_mail)) {\n      setEmailInvalid(true);\n      setEmailFeedBack('Please provide a valid Email.');\n    } else {\n      setEmailInvalid(false);\n      setEmail(e_mail);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    noValidate: true,\n    validated: validated,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    controlId: \"userId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }\n  }, \"User ID\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"User ID\",\n    onChange: onChangeUserID,\n    isInvalid: userIdInvalid,\n    minLength: \"8\",\n    maxLength: \"20\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 5\n    }\n  }, userIdFeedBack)), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    controlId: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: onChangePassword,\n    isInvalid: passwordInvalid,\n    minLength: \"8\",\n    maxLength: \"20\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 5\n    }\n  }, \"Please choose a new password with at least 8 characters\")), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    controlId: \"confirm_password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    required: true,\n    isInvalid: confirmPassword_invalid,\n    onChange: onChangeConfirmPassword,\n    minLength: \"8\",\n    maxLength: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 5\n    }\n  }, \"Please choose a new password with at least 8 characters and make sure this matches your password.\")), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    controlId: \"firstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, \"First name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    type: \"text\",\n    placeholder: \"First name\",\n    onChange: onChangeFirstName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, \"Please provide a valid First Name.\")), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    controlId: \"lastName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 5\n    }\n  }, \"Last name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    type: \"text\",\n    placeholder: \"Last name\",\n    onChange: onChangeLastName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 5\n    }\n  }, \"Please provide a valid Last Name.\")), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    controlId: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 5\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Email address\",\n    onChange: onChangeEmail,\n    isInvalid: emailInvalid,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 5\n    }\n  }, emailFeedBack)), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 4\n    }\n  }, \"Submit\"));\n}\n\nexport default Register;","map":{"version":3,"sources":["C:/Users/834043/Desktop/study/Personal_Web_Site/client/src/Components/Registration.jsx"],"names":["React","useState","Button","Form","Col","Alert","axios","useHistory","Register","props","validated","setValidated","userID","setUserId","password","setPassword","confirmPassword","setConfirmPassword","confirmPassword_invalid","setConfirmPassword_invalid","firstName","setFirstName","lastName","setLastName","email","setEmail","userIdFeedBack","setUserIdFeedBack","emailFeedBack","setEmailFeedBack","userIdInvalid","setUserIdInvalid","emailInvalid","setEmailInvalid","passwordInvalid","setPasswordInvalid","userMessage","emailMessage","_userID","_password","_confirm_password","_uploadResult","history","handleSubmit","event","form","currentTarget","checkValidity","preventDefault","stopPropagation","user_data","post","then","response","data","console","log","alert","push","catch","error","message","status","onChangeUserID","e","target","value","undefined","length","onChangePassword","onChangeConfirmPassword","onChangeFirstName","first_Name","onChangeLastName","last_Name","onChangeEmail","e_mail","regExp","test"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Form, Col, Alert } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n\tconst [validated, setValidated] = useState(false);\r\n\tconst [userID, setUserId] = useState(null);\r\n\tconst [password, setPassword] = useState(null);\r\n\tconst [confirmPassword, setConfirmPassword] = useState(null);\r\n\tconst [confirmPassword_invalid, setConfirmPassword_invalid] = useState();\r\n\tconst [firstName, setFirstName] = useState(null);\r\n\tconst [lastName, setLastName] = useState(null);\r\n\tconst [email, setEmail] = useState(null);\r\n\tconst [userIdFeedBack, setUserIdFeedBack] = useState(null);\r\n\tconst [emailFeedBack, setEmailFeedBack] = useState(null);\r\n\tconst [userIdInvalid, setUserIdInvalid] = useState();\r\n\tconst [emailInvalid, setEmailInvalid] = useState();\r\n\tconst [passwordInvalid, setPasswordInvalid] = useState();\r\n\r\n\tconst userMessage = 'A user with that user name already exists';\r\n\tconst emailMessage = 'A user with that email already exists';\r\n\tlet _userID;\r\n\tlet _password;\r\n\tlet _confirm_password;\r\n\tlet _uploadResult;\r\n\tlet history = useHistory();\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tconst form = event.currentTarget;\r\n\t\tif (form.checkValidity() === false) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tsetValidated(true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst user_data = {\r\n\t\t\t\tuserID: userID,\r\n\t\t\t\tpassword: password,\r\n\t\t\t\tfirstName: firstName,\r\n\t\t\t\tlastName: lastName,\r\n\t\t\t\temail: email\r\n\t\t\t}\r\n\t\t\taxios.post(\"/registration\", user_data)\r\n\t\t\t\t.then(\r\n\t\t\t\t\tresponse => {\r\n\t\t\t\t\t\t_uploadResult = response.data;\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif (_uploadResult === 'Registration success') {\r\n\t\t\t\t\t\t\talert(\"Signing Up Success! Please Login Again\");\r\n\t\t\t\t\t\t\thistory.push('/login');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tconsole.log(response.data);\r\n\t\t\t\t\t\t\tif (_uploadResult == 'userID, email duplication') {\r\n\t\t\t\t\t\t\t\tsetUserIdInvalid(true);\r\n\t\t\t\t\t\t\t\tsetUserIdFeedBack(userMessage);\r\n\t\t\t\t\t\t\t\tsetEmailInvalid(true);\r\n\t\t\t\t\t\t\t\tsetEmailFeedBack(emailMessage);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_uploadResult == 'userID duplication') {\r\n\t\t\t\t\t\t\t\tsetUserIdInvalid(true);\r\n\t\t\t\t\t\t\t\tsetUserIdFeedBack(userMessage);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_uploadResult == 'email duplication') {\r\n\t\t\t\t\t\t\t\tsetEmailInvalid(true);\r\n\t\t\t\t\t\t\t\tsetEmailFeedBack(emailMessage);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.log(error.message);\r\n\t\t\t\t\thistory.push(`/errorpage/${error.status}/${\"Registration\"}/${error.message}`);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tconst onChangeUserID = (e) => {\r\n\t\t_userID = e.target.value;\r\n\t\tif (_userID === undefined || _userID.length < 8 || _userID.length > 20) {\r\n\t\t\tsetUserIdInvalid(true);\r\n\t\t\tsetUserIdFeedBack(\"Please choose a user ID with 8 to 20 characters.\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetUserIdInvalid(false);\r\n\t\t\tsetUserId(_userID);\r\n\t\t}\r\n\t};\r\n\r\n\t//validating password, password must be between 8 and 20 letter.\r\n\tconst onChangePassword = (e) => {\r\n\t\t_password = e.target.value;\r\n\t\tif (_password === undefined || _password.length < 8 || _password.length > 20) {\r\n\t\t\tsetPasswordInvalid(true);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse if (confirmPassword != null && _password != confirmPassword) {\r\n\t\t\tsetPasswordInvalid(false);\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse if (confirmPassword != null && _password === confirmPassword) {\r\n\t\t\tsetPasswordInvalid(false);\r\n\t\t\tsetConfirmPassword_invalid(false);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetPasswordInvalid(() => false);\r\n\t\t\tsetPassword(_password);\r\n\t\t\tif (_password != confirmPassword) {\r\n\t\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t//validating confirm password, confirm password must be between 8 and 20 letter and the same as password.\r\n\tconst onChangeConfirmPassword = (e) => {\r\n\r\n\t\t_confirm_password = e.target.value;\r\n\t\tif (_confirm_password === undefined || _confirm_password.length < 8 || _confirm_password.length > 20) {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse if (password != null && _confirm_password != password) {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse if (password != null && _confirm_password === password) {\r\n\t\t\tsetConfirmPassword_invalid(false);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t};\r\n\t//First name, last name, email are required\r\n\tconst onChangeFirstName = (e) => {\r\n\t\tconst first_Name = e.target.value;\r\n\t\tsetFirstName(first_Name);\r\n\t};\r\n\r\n\tconst onChangeLastName = (e) => {\r\n\t\tconst last_Name = e.target.value;\r\n\t\tsetLastName(last_Name);\r\n\t};\r\n\r\n\tconst onChangeEmail = (e) => {\r\n\t\tconst e_mail = e.target.value;\r\n\t\tsetEmail(e_mail);\r\n\t\tconst regExp = /^[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/i;\r\n\t\tif (!regExp.test(e_mail)) {\r\n\t\t\tsetEmailInvalid(true);\r\n\t\t\tsetEmailFeedBack('Please provide a valid Email.');\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetEmailInvalid(false);\r\n\t\t\tsetEmail(e_mail);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n\t\t\t<Form.Group as={Col} md=\"4\" controlId=\"userId\">\r\n\t\t\t\t<Form.Label>User ID</Form.Label>\r\n\t\t\t\t<Form.Control type=\"text\" placeholder=\"User ID\" onChange={onChangeUserID} isInvalid={userIdInvalid} minLength=\"8\" maxLength=\"20\" required />\r\n\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\t{userIdFeedBack}\r\n\t\t\t\t</Form.Control.Feedback>\r\n\t\t\t</Form.Group>\r\n\r\n\t\t\t<Form.Group as={Col} md=\"4\" controlId=\"password\">\r\n\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t<Form.Control type=\"password\" placeholder=\"Password\" onChange={onChangePassword} isInvalid={passwordInvalid} minLength=\"8\" maxLength=\"20\" required />\r\n\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\tPlease choose a new password with at least 8 characters\r\n          \t\t</Form.Control.Feedback>\r\n\t\t\t</Form.Group>\r\n\r\n\t\t\t<Form.Group as={Col} md=\"4\" controlId=\"confirm_password\">\r\n\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tisInvalid={confirmPassword_invalid}\r\n\t\t\t\t\tonChange={onChangeConfirmPassword}\r\n\t\t\t\t\tminLength=\"8\" maxLength=\"20\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\tPlease choose a new password with at least 8 characters and make sure this matches your password.\r\n          \t\t</Form.Control.Feedback>\r\n\t\t\t</Form.Group>\r\n\r\n\t\t\t<Form.Group as={Col} md=\"4\" controlId=\"firstName\">\r\n\t\t\t\t<Form.Label>First name</Form.Label>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\trequired\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"First name\"\r\n\t\t\t\t\tonChange={onChangeFirstName}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\tPlease provide a valid First Name.\r\n\t\t\t\t\t</Form.Control.Feedback>\r\n\t\t\t</Form.Group>\r\n\r\n\t\t\t<Form.Group as={Col} md=\"4\" controlId=\"lastName\">\r\n\t\t\t\t<Form.Label>Last name</Form.Label>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\trequired\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Last name\"\r\n\t\t\t\t\tonChange={onChangeLastName}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\tPlease provide a valid Last Name.\r\n\t\t\t\t</Form.Control.Feedback>\r\n\t\t\t</Form.Group>\r\n\r\n\r\n\t\t\t<Form.Group as={Col} md=\"4\" controlId=\"email\">\r\n\t\t\t\t<Form.Label>Email address</Form.Label>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tplaceholder=\"Email address\"\r\n\t\t\t\t\tonChange={onChangeEmail}\r\n\t\t\t\t\tisInvalid={emailInvalid}\r\n\t\t\t\t\trequired />\r\n\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\t{emailFeedBack}\r\n\t\t\t\t</Form.Control.Feedback>\r\n\t\t\t</Form.Group>\r\n\t\t\t<Button type=\"submit\">Submit</Button>\r\n\r\n\t\t</Form>\r\n\t);\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}