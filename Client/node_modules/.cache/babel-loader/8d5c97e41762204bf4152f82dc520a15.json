{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\834043\\\\Desktop\\\\study\\\\Personal_Web_Site\\\\client\\\\src\\\\Components\\\\ResetAccount.jsx\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Form, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, Link } from 'react-router-dom';\nimport ForgotService from '../Services/Forgot.service';\nimport { v_passwordMessage, v_confirmPasswordMessage } from \"./message\";\n\nfunction ResetAccount(props) {\n  const token = props.match.params.token;\n  const [password, setPassword] = useState(null);\n  const [confirmPassword, setConfirmPassword] = useState(null);\n  const [confirmPassword_invalid, setConfirmPassword_invalid] = useState();\n  console.log(token);\n  useEffect(() => {\n    ForgotService.reset_password({\n      token: token\n    }); //token 유효하지않으면 팅기게 하기, 로그인하면 팅기게하기\n  }); //validating password, password must be between 8 and 20 letter.\n\n  const onChangePassword = e => {\n    _password = e.target.value;\n\n    if (_password === undefined || _password.length < 8 || _password.length > 20) {\n      setPasswordInvalid(true);\n      setPassword(_password);\n    } else if (confirmPassword != null && _password != confirmPassword) {\n      setPasswordInvalid(false);\n      setConfirmPassword_invalid(true);\n      setPassword(_password);\n    } else if (confirmPassword != null && _password === confirmPassword) {\n      setPasswordInvalid(false);\n      setConfirmPassword_invalid(false);\n      setPassword(_password);\n    } else {\n      setPasswordInvalid(() => false);\n      setPassword(_password);\n\n      if (_password != confirmPassword) {\n        setConfirmPassword_invalid(true);\n      }\n    }\n  }; //validating confirm password, confirm password must be between 8 and 20 letter and the same as password.\n\n\n  const onChangeConfirmPassword = e => {\n    _confirm_password = e.target.value;\n\n    if (_confirm_password === undefined || _confirm_password.length < 8 || _confirm_password.length > 20) {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    } else if (password != null && _confirm_password != password) {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    } else if (password != null && _confirm_password === password) {\n      setConfirmPassword_invalid(false);\n      setConfirmPassword(_confirm_password);\n    } else {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"resetAccount_whole\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    className: \"resetAccount_password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"resetAccount_label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: onChangePassword,\n    isInvalid: passwordInvalid,\n    minLength: \"8\",\n    maxLength: \"20\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, v_passwordMessage)), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    className: \"registration_form_group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"registration_form_label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    required: true,\n    isInvalid: confirmPassword_invalid,\n    onChange: onChangeConfirmPassword,\n    minLength: \"8\",\n    maxLength: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, v_confirmPasswordMessage)));\n}\n\nexport default ResetAccount;","map":{"version":3,"sources":["C:/Users/834043/Desktop/study/Personal_Web_Site/client/src/Components/ResetAccount.jsx"],"names":["React","useState","useRef","useEffect","Form","Button","useDispatch","useSelector","useHistory","Link","ForgotService","v_passwordMessage","v_confirmPasswordMessage","ResetAccount","props","token","match","params","password","setPassword","confirmPassword","setConfirmPassword","confirmPassword_invalid","setConfirmPassword_invalid","console","log","reset_password","onChangePassword","e","_password","target","value","undefined","length","setPasswordInvalid","onChangeConfirmPassword","_confirm_password","Col","passwordInvalid"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport ForgotService from '../Services/Forgot.service';\r\nimport {\r\n\tv_passwordMessage,\r\n\tv_confirmPasswordMessage,\r\n} from \"./message\";\r\n\r\nfunction ResetAccount(props) {\r\n\tconst token = props.match.params.token;\r\n\tconst [password, setPassword] = useState(null);\r\n\tconst [confirmPassword, setConfirmPassword] = useState(null);\r\n\tconst [confirmPassword_invalid, setConfirmPassword_invalid] = useState();\r\n\tconsole.log(token)\r\n\tuseEffect(() => {\r\n\t\tForgotService.reset_password({ token: token })\r\n\t\t//token 유효하지않으면 팅기게 하기, 로그인하면 팅기게하기\r\n\t})\r\n\r\n\t//validating password, password must be between 8 and 20 letter.\r\n\tconst onChangePassword = (e) => {\r\n\t\t_password = e.target.value;\r\n\t\tif (_password === undefined || _password.length < 8 || _password.length > 20) {\r\n\t\t\tsetPasswordInvalid(true);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse if (confirmPassword != null && _password != confirmPassword) {\r\n\t\t\tsetPasswordInvalid(false);\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse if (confirmPassword != null && _password === confirmPassword) {\r\n\t\t\tsetPasswordInvalid(false);\r\n\t\t\tsetConfirmPassword_invalid(false);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetPasswordInvalid(() => false);\r\n\t\t\tsetPassword(_password);\r\n\t\t\tif (_password != confirmPassword) {\r\n\t\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t//validating confirm password, confirm password must be between 8 and 20 letter and the same as password.\r\n\tconst onChangeConfirmPassword = (e) => {\r\n\r\n\t\t_confirm_password = e.target.value;\r\n\t\tif (_confirm_password === undefined || _confirm_password.length < 8 || _confirm_password.length > 20) {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse if (password != null && _confirm_password != password) {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse if (password != null && _confirm_password === password) {\r\n\t\t\tsetConfirmPassword_invalid(false);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"resetAccount_whole\">\r\n\r\n\t\t\t<Form.Group as={Col} md=\"4\" className=\"resetAccount_password\">\r\n\t\t\t\t<Form.Label className=\"resetAccount_label\">Password</Form.Label>\r\n\t\t\t\t<Form.Control type=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\tonChange={onChangePassword}\r\n\t\t\t\t\tisInvalid={passwordInvalid}\r\n\t\t\t\t\tminLength=\"8\"\r\n\t\t\t\t\tmaxLength=\"20\"\r\n\t\t\t\t\trequired />\r\n\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\t{v_passwordMessage}\r\n\t\t\t\t</Form.Control.Feedback>\r\n\t\t\t</Form.Group>\r\n\r\n\t\t\t<Form.Group as={Col} md=\"4\" className=\"registration_form_group\">\r\n\t\t\t\t<Form.Label className=\"registration_form_label\">Confirm Password</Form.Label>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tisInvalid={confirmPassword_invalid}\r\n\t\t\t\t\tonChange={onChangeConfirmPassword}\r\n\t\t\t\t\tminLength=\"8\" maxLength=\"20\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\t{v_confirmPasswordMessage}\r\n\t\t\t\t</Form.Control.Feedback>\r\n\t\t\t</Form.Group>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ResetAccount;"]},"metadata":{},"sourceType":"module"}