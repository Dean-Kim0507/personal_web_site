{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\834043\\\\Desktop\\\\study\\\\Personal_Web_Site\\\\client\\\\src\\\\Components\\\\AdminPage.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Table, Image } from 'react-bootstrap';\nimport { useHistory } from \"react-router-dom\";\nimport AdminPageService from '../Services/AdminPage.service';\nimport '../css/AdminPage.css';\nimport { unauthorized_access } from \"./message\";\nimport { GET_USERS_SUCCESS, USER_NOT_FOUND } from \"./type\";\n\nfunction AdminPage(props) {\n  const {\n    isLoggedIn,\n    user\n  } = useSelector(state => state.auth);\n  const [users, setUsers] = useState(null);\n  let history = useHistory();\n  let num = 0;\n  const basicProfileImgPath = \"./uploadImages/icon/img_user.jpg\";\n  const IMG_WIDTH = 45;\n  const IMG_LENGTH = 50;\n  useEffect(() => {\n    if (!isLoggedIn || user.role != 1) {\n      alert(unauthorized_access);\n      history.push('/home');\n    }\n\n    AdminPageService.get_all_users(user).then(response => {\n      console.log(response.data);\n\n      if (response.data.message === USER_NOT_FOUND) {\n        setUsers(null);\n      } else if (response.data.message === GET_USERS_SUCCESS) {\n        setUsers(response.data.users);\n      }\n    });\n    console.log(user);\n  }, []);\n  return /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    variant: \"dark\",\n    className: \"adminPage_table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 6\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }\n  }, \"User ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 6\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 6\n    }\n  }, \"Picture\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  }, \"Signing up Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }\n  }, users != null ? users.map(data => {\n    if (data.profile_img_path != null) {\n      data.profile_img_path = data.profile_img_path.substring(16, data.profile_img_path.length);\n    } else {\n      data.profile_img_path = basicProfileImgPath;\n    }\n\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, ++num), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, data.userID), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, data.firstName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, data.lastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, data.lastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, data.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: data.profile_img_path,\n      width: IMG_WIDTH,\n      height: IMG_LENGTH,\n      alt: \"45x50\",\n      roundedCircle: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    })));\n  }) : null));\n}\n\nexport default AdminPage;","map":{"version":3,"sources":["C:/Users/834043/Desktop/study/Personal_Web_Site/client/src/Components/AdminPage.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","Table","Image","useHistory","AdminPageService","unauthorized_access","GET_USERS_SUCCESS","USER_NOT_FOUND","AdminPage","props","isLoggedIn","user","state","auth","users","setUsers","history","num","basicProfileImgPath","IMG_WIDTH","IMG_LENGTH","role","alert","push","get_all_users","then","response","console","log","data","message","map","profile_img_path","substring","length","userID","firstName","lastName","email"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,KAAT,EAAgBC,KAAhB,QAA6B,iBAA7B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,OAAO,sBAAP;AACA,SACCC,mBADD,QAEO,WAFP;AAGA,SACCC,iBADD,EAECC,cAFD,QAGO,QAHP;;AAKA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAEzB,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAuBX,WAAW,CAACY,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAAxC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,IAAD,CAAlC;AACA,MAAImB,OAAO,GAAGb,UAAU,EAAxB;AACA,MAAIc,GAAG,GAAG,CAAV;AACA,QAAMC,mBAAmB,GAAG,kCAA5B;AACA,QAAMC,SAAS,GAAG,EAAlB;AACA,QAAMC,UAAU,GAAG,EAAnB;AAEAtB,EAAAA,SAAS,CAAC,MAAM;AACf,QAAI,CAACY,UAAD,IAAeC,IAAI,CAACU,IAAL,IAAa,CAAhC,EAAmC;AAClCC,MAAAA,KAAK,CAACjB,mBAAD,CAAL;AACAW,MAAAA,OAAO,CAACO,IAAR,CAAa,OAAb;AACA;;AACDnB,IAAAA,gBAAgB,CAACoB,aAAjB,CAA+Bb,IAA/B,EACEc,IADF,CACOC,QAAQ,IAAI;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;;AACA,UAAIH,QAAQ,CAACG,IAAT,CAAcC,OAAd,KAA0BvB,cAA9B,EAA8C;AAC7CQ,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,OAFD,MAGK,IAAIW,QAAQ,CAACG,IAAT,CAAcC,OAAd,KAA0BxB,iBAA9B,EAAiD;AACrDS,QAAAA,QAAQ,CAACW,QAAQ,CAACG,IAAT,CAAcf,KAAf,CAAR;AACA;AACD,KATF;AAUAa,IAAAA,OAAO,CAACC,GAAR,CAAYjB,IAAZ;AACA,GAhBQ,EAgBN,EAhBM,CAAT;AAkBA,sBACC,oBAAC,KAAD;AAAO,IAAA,OAAO,MAAd;AAAe,IAAA,QAAQ,MAAvB;AAAwB,IAAA,KAAK,MAA7B;AAA8B,IAAA,OAAO,EAAC,MAAtC;AAA6C,IAAA,SAAS,EAAC,iBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJD,eAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALD,eAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAND,eAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPD,eAQC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBARD,eASC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YATD,eAUC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVD,CADD,CADD,eAeC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEG,KAAK,IAAI,IAAT,GACAA,KAAK,CAACiB,GAAN,CAAUF,IAAI,IAAI;AACjB,QAAIA,IAAI,CAACG,gBAAL,IAAyB,IAA7B,EAAmC;AAClCH,MAAAA,IAAI,CAACG,gBAAL,GAAwBH,IAAI,CAACG,gBAAL,CAAsBC,SAAtB,CAAgC,EAAhC,EAAoCJ,IAAI,CAACG,gBAAL,CAAsBE,MAA1D,CAAxB;AACA,KAFD,MAGK;AAAEL,MAAAA,IAAI,CAACG,gBAAL,GAAwBd,mBAAxB;AAA8C;;AACrD,wBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,EAAED,GAAP,CADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKY,IAAI,CAACM,MAAV,CAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKN,IAAI,CAACO,SAAV,CAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKP,IAAI,CAACQ,QAAV,CAJD,eAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKR,IAAI,CAACQ,QAAV,CALD,eAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKR,IAAI,CAACS,KAAV,CAND,eAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAET,IAAI,CAACG,gBAAjB;AACH,MAAA,KAAK,EAAEb,SADJ;AAEH,MAAA,MAAM,EAAEC,UAFL;AAGH,MAAA,GAAG,EAAC,OAHD;AAIH,MAAA,aAAa,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,CAPD,CADD;AAeA,GApBD,CADA,GAuBA,IAxBF,CAfD,CADD;AA6CA;;AAED,eAAeZ,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Table, Image } from 'react-bootstrap';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AdminPageService from '../Services/AdminPage.service'\r\nimport '../css/AdminPage.css';\r\nimport {\r\n\tunauthorized_access\r\n} from \"./message\";\r\nimport {\r\n\tGET_USERS_SUCCESS,\r\n\tUSER_NOT_FOUND\r\n} from \"./type\";\r\n\r\nfunction AdminPage(props) {\r\n\r\n\tconst { isLoggedIn, user } = useSelector(state => state.auth);\r\n\tconst [users, setUsers] = useState(null);\r\n\tlet history = useHistory();\r\n\tlet num = 0;\r\n\tconst basicProfileImgPath = \"./uploadImages/icon/img_user.jpg\";\r\n\tconst IMG_WIDTH = 45;\r\n\tconst IMG_LENGTH = 50;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isLoggedIn || user.role != 1) {\r\n\t\t\talert(unauthorized_access);\r\n\t\t\thistory.push('/home');\r\n\t\t}\r\n\t\tAdminPageService.get_all_users(user)\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\tif (response.data.message === USER_NOT_FOUND) {\r\n\t\t\t\t\tsetUsers(null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (response.data.message === GET_USERS_SUCCESS) {\r\n\t\t\t\t\tsetUsers(response.data.users);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\tconsole.log(user)\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Table striped bordered hover variant=\"dark\" className=\"adminPage_table\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t<th>User ID</th>\r\n\t\t\t\t\t<th>First Name</th>\r\n\t\t\t\t\t<th>Last Name</th>\r\n\t\t\t\t\t<th>Username</th>\r\n\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t<th>Picture</th>\r\n\t\t\t\t\t<th>Signing up Date</th>\r\n\t\t\t\t\t<th>Role</th>\r\n\t\t\t\t\t<th>Delete</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{users != null ?\r\n\t\t\t\t\tusers.map(data => {\r\n\t\t\t\t\t\tif (data.profile_img_path != null) {\r\n\t\t\t\t\t\t\tdata.profile_img_path = data.profile_img_path.substring(16, data.profile_img_path.length);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse { data.profile_img_path = basicProfileImgPath; }\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>{++num}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.userID}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.firstName}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.lastName}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.lastName}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.email}</td>\r\n\t\t\t\t\t\t\t\t<td><Image src={data.profile_img_path}\r\n\t\t\t\t\t\t\t\t\twidth={IMG_WIDTH}\r\n\t\t\t\t\t\t\t\t\theight={IMG_LENGTH}\r\n\t\t\t\t\t\t\t\t\talt=\"45x50\"\r\n\t\t\t\t\t\t\t\t\troundedCircle /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t:\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\t\t\t</tbody>\r\n\t\t</Table>\r\n\t);\r\n}\r\n\r\nexport default AdminPage;"]},"metadata":{},"sourceType":"module"}