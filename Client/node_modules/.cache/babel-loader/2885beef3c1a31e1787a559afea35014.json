{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\834043\\\\Desktop\\\\study\\\\Project1\\\\src\\\\Components\\\\Board.js\";\nimport React, { Component } from 'react';\nimport TOC from \"./BoardComponents/TOC\";\nimport ReadContent from \"./BoardComponents/ReadContent\";\nimport Subject from \"./BoardComponents/Subject\";\nimport Control from \"./BoardComponents/Control\";\nimport UpdateContent from \"./BoardComponents/UpdateContent\";\nimport CreateContent from './BoardComponents/CreateContent';\nimport axios from 'axios';\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mode: 'welcome',\n      selected_content_id: 0,\n      welcome: {\n        title: 'Welcome',\n        desc: 'Hello, React!!'\n      },\n      subject: {\n        title: 'Welcome to My project1',\n        sub: \"Developing Board...\"\n      },\n      contents: []\n    };\n    this.max_content_id = this.max_content_id;\n    let data = {\n      id,\n      writer,\n      title,\n      description\n    };\n  }\n\n  componentWillMount() {\n    fetch('http://localhost:4000/board/receive').then(res => res.json()).then(data => this.setState({\n      contents: data.rows\n    })); // let data = {\n    // \tid:this.state.contents.id,\n    // \twrite:this.state.contents.writer,\n    // \ttitle:this.state.contents.title,\n    // \tdescription:this.state.contents.description\n    // }\n    // axios.post('http://localhost:4000/board/receive',\n    // \t{data})\n    // .then(function (response) {\n    // \tconsole.log(response);\n    // \t})\n    // \t.catch(function (error) {\n    // \tconsole.log(error);\n    // \t});\n  }\n\n  setData() {\n    let data = {\n      id: this.state.contents.id,\n      writer: this.state.contents.writer,\n      title: this.state.contents.title,\n      description: this.state.contents.description\n    };\n    console.log(data);\n    axios.post('http://localhost:4000/board/giveresult', data).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    }); // \tfetch('http://localhost:4000/board/giveresult'\n    // \t,{\n    // \tmethod: 'POST',\n    // \theaders:{\n    // \t\t'Content-Type': 'application/json',\n    // \t\t'Accept': 'application/json'\n    // \t},\n    // \tbody:JSON.stringify(data)\n    // \t})\n    // \t.then (console.log(data))\n    // \t.then (res => res.json())\n    // \t.then (data => console.log(data));\n  }\n\n  getReadContent() {\n    var i = 0;\n\n    while (i < this.state.contents.length) {\n      var data = this.state.contents[i];\n\n      if (data.id === this.state.selected_content_id) {\n        return data;\n        break;\n      }\n\n      i = i + 1;\n    }\n  }\n\n  getContent() {\n    var _title,\n        _writer,\n        _desc,\n        _article = null;\n\n    if (this.state.mode === 'welcome') {// console.log(this.state.contents)\n      // this. max_content_id = this.state.contents[this.state.contents.length].id\n      // console.log(this.max_content_id)\n    } //read\n    else if (this.state.mode === 'read') {\n        var _content = this.getReadContent();\n\n        _article = /*#__PURE__*/React.createElement(ReadContent, {\n          writer: _content.writer,\n          title: _content.title,\n          desc: _content.description,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 16\n          }\n        });\n      } // Update\n      else if (this.state.mode === 'update') {\n          _content = this.getReadContent();\n          _article = /*#__PURE__*/React.createElement(UpdateContent, {\n            data: _content,\n            onSubmit: function (_id, _writer, _title, _desc) {\n              //add content to this.state.cotnents\n              var _contents = Array.from(this.state.contents);\n\n              var i = 0;\n\n              while (i < _contents.length) {\n                if (_contents[i].id === _id) {\n                  _contents[i] = {\n                    id: _id,\n                    writer: _writer,\n                    title: _title,\n                    description: _desc\n                  };\n                  break;\n                }\n\n                i = i + 1;\n              }\n\n              this.setState({\n                contents: _contents,\n                mode: 'read'\n              });\n              this.setData();\n            }.bind(this),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 16\n            }\n          });\n        }\n\n    return _article;\n  }\n\n  creatArticle() {\n    var _create = null; // Create\n\n    _create = /*#__PURE__*/React.createElement(CreateContent, {\n      onSubmit: function (_writer, _title, _desc) {\n        //add content to this.state.cotnents\n        this.max_content_id = this.state.contents[this.state.contents.length - 1].id + 1;\n\n        var _contents = Array.from(this.state.contents);\n\n        _contents.push({\n          id: this.max_content_id,\n          writer: _writer,\n          title: _title,\n          description: _desc\n        });\n\n        this.setState({\n          contents: _contents,\n          mode: 'read',\n          selected_content_id: this.max_content_id\n        });\n        this.setData();\n      }.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 14\n      }\n    });\n\n    if (this.state.mode != 'update') {\n      return _create;\n    } else return null;\n  }\n\n  createController() {\n    var _button = /*#__PURE__*/React.createElement(Control, {\n      onChangeMode: function (_mode) {\n        if (_mode === 'delete') {\n          if (window.confirm('really?')) {\n            var _content = Array.from(this.state.contents);\n\n            var i = 0;\n\n            while (i < this.state.contents.length) {\n              if (_content[i].id === this.state.selected_content_id) {\n                _content.splice(i, 1);\n\n                break;\n              }\n\n              i = i + 1;\n            }\n\n            this.setState({\n              mode: 'welcome',\n              contents: _content\n            });\n            alert('deleted!'); // this.setData();\n          }\n        } else {\n          this.setState({\n            mode: _mode\n          });\n        }\n      }.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    });\n\n    if (this.state.mode != 'welcome') {\n      return _button;\n    } else return null;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Subject, {\n      title: this.state.subject.title,\n      sub: this.state.subject.sub,\n      onChangePage: function () {\n        this.setState({\n          mode: 'welcome'\n        });\n      }.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(TOC, {\n      onChangePage: function (id) {\n        this.setState({\n          mode: 'read',\n          selected_content_id: Number(id) //문자를 숫자로 변경해주는 함수 Number\n\n        });\n      }.bind(this),\n      data: this.state.contents,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 3\n      }\n    }), this.getContent(), this.createController(), this.creatArticle());\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["C:/Users/834043/Desktop/study/Project1/src/Components/Board.js"],"names":["React","Component","TOC","ReadContent","Subject","Control","UpdateContent","CreateContent","axios","Board","constructor","props","state","mode","selected_content_id","welcome","title","desc","subject","sub","contents","max_content_id","data","id","writer","description","componentWillMount","fetch","then","res","json","setState","rows","setData","console","log","post","response","catch","error","getReadContent","i","length","getContent","_title","_writer","_desc","_article","_content","_id","_contents","Array","from","bind","creatArticle","_create","push","createController","_button","_mode","window","confirm","splice","alert","render","Number"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport TOC from \"./BoardComponents/TOC\"\r\nimport ReadContent from \"./BoardComponents/ReadContent\"\r\nimport Subject from \"./BoardComponents/Subject\"\r\nimport Control from \"./BoardComponents/Control\"\r\nimport UpdateContent from \"./BoardComponents/UpdateContent\"\r\nimport CreateContent from './BoardComponents/CreateContent';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nclass Board extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state ={\r\n\t\tmode:'welcome',\r\n      \tselected_content_id:0,\r\n      \twelcome:{title:'Welcome', desc:'Hello, React!!'},\r\n      \tsubject:{title:'Welcome to My project1', sub:\"Developing Board...\"},\r\n\t\tcontents:[]\r\n\t}\r\n\tthis.max_content_id=this.max_content_id;\r\n\tlet data = {\r\n\t\tid,\r\n\t\twriter,\r\n\t\ttitle,\r\n\t\tdescription\r\n\t}\r\n}\t\r\n\r\n\tcomponentWillMount() {\r\n\t\t\r\n\t\tfetch('http://localhost:4000/board/receive')\r\n\t\t.then (res => res.json())\r\n\t\t.then (data => this.setState({contents: data.rows}));\r\n\t\t\r\n\t\t// let data = {\r\n\t\t// \tid:this.state.contents.id,\r\n\t\t// \twrite:this.state.contents.writer,\r\n\t\t// \ttitle:this.state.contents.title,\r\n\t\t// \tdescription:this.state.contents.description\r\n\t\t// }\r\n\r\n\t\t// axios.post('http://localhost:4000/board/receive',\r\n\t\t// \t{data})\r\n\t\t// .then(function (response) {\r\n\t\t// \tconsole.log(response);\r\n\t\t// \t})\r\n\t\t// \t.catch(function (error) {\r\n\t\t// \tconsole.log(error);\r\n\t\t// \t});\r\n\t\t\r\n\t}\r\n\r\n\tsetData() {\r\n\t\tlet data = {\r\n\t\t\tid:this.state.contents.id,\r\n\t\t\twriter:this.state.contents.writer,\r\n\t\t\ttitle:this.state.contents.title,\r\n\t\t\tdescription:this.state.contents.description\r\n\t\t}\r\n\t\tconsole.log(data);\r\n\r\n\t\taxios.post('http://localhost:4000/board/giveresult',\r\n\t\t\tdata)\r\n\t\t.then(function (response) {\r\n\t\t\tconsole.log(response);\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\r\n\t\t\r\n\t\r\n\t// \tfetch('http://localhost:4000/board/giveresult'\r\n\t// \t,{\r\n\t// \tmethod: 'POST',\r\n\t// \theaders:{\r\n\t// \t\t'Content-Type': 'application/json',\r\n    // \t\t'Accept': 'application/json'\r\n\t// \t},\r\n\t// \tbody:JSON.stringify(data)\r\n\t\t\r\n\t// \t})\r\n\t// \t.then (console.log(data))\r\n\t// \t.then (res => res.json())\r\n\t// \t.then (data => console.log(data));\r\n  \t}\r\n\t\r\n\r\n\tgetReadContent(){\r\n\t\tvar i =0;\r\n\t\t  while(i<this.state.contents.length){\r\n\t\t\tvar data = this.state.contents[i];\r\n\t\t\tif(data.id === this.state.selected_content_id){\r\n\t\t\t  return data;\r\n\t\t\t  break;\r\n\t\t\t}\r\n\t\t\ti=i+1;\r\n\t\t  }\r\n\t  }\r\n\t  \r\n\tgetContent(){\r\n\t\tvar _title, _writer, _desc,_article = null;\r\n\t\tif(this.state.mode ==='welcome'){\r\n\t\t\t// console.log(this.state.contents)\r\n\t\t\t// this. max_content_id = this.state.contents[this.state.contents.length].id\r\n\t\t\t// console.log(this.max_content_id)\r\n\t\t}\r\n\r\n\t\t//read\r\n\t\telse if (this.state.mode ==='read'){\r\n\t\t  var _content = this.getReadContent();\r\n\t\r\n\t\t  _article = <ReadContent writer={_content.writer} title= {_content.title} desc= {_content.description} ></ReadContent>\r\n\t\t}\r\n\r\n\t\t// Update\r\n\t\telse if(this.state.mode ==='update'){\r\n\t\t  _content = this.getReadContent();\r\n\t\t  _article = <UpdateContent data = {_content} onSubmit={\r\n\t\t\tfunction(_id, _writer, _title, _desc){\r\n\t\t\t  //add content to this.state.cotnents\r\n\t\t\t  var _contents = Array.from(this.state.contents);\r\n\t\t\t  var i =0;\r\n\t\t\t  while(i<_contents.length){\r\n\t\t\t\tif(_contents[i].id ===_id){\r\n\t\t\t\t  _contents[i] = {id:_id, writer:_writer, title:_title, description:_desc};\r\n\t\t\t\t  break;\r\n\t\t\t\t}\r\n\t\t\t\ti=i+1;\r\n\t\t\t  }\r\n\t\t\t  this.setState({\r\n\t\t\t\tcontents:_contents,\r\n\t\t\t\tmode:'read'\r\n\t\t\t  });\r\n\t\t\tthis.setData();\r\n\t\t\t}.bind(this)\r\n\t\t  }></UpdateContent>\r\n\t\t \r\n\t\t}\r\n\t\treturn _article;\r\n\t  }\r\n\r\n\t  creatArticle(){\r\n\t\tvar _create = null;\r\n\t\t\t// Create\r\n\t\t\t_create = <CreateContent onSubmit={\r\n\t\t\t\tfunction(_writer,_title,_desc){\r\n\t\t\t\t//add content to this.state.cotnents\r\n\t\t\t\tthis.max_content_id= this.state.contents[this.state.contents.length-1].id+1;\r\n\t\t\t\tvar _contents = Array.from(this.state.contents);\r\n\t\t\t\t_contents.push({id:this.max_content_id, writer: _writer, title:_title, description:_desc});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcontents:_contents,\r\n\t\t\t\t\tmode:'read',\r\n\t\t\t\t\tselected_content_id:this.max_content_id\r\n\t\t\t\t});\r\n\t\t\t\tthis.setData()\r\n\t\t\t\t}.bind(this)\r\n\t\t\t}></CreateContent>\r\n\t\t\tif(this.state.mode!='update'){\r\n\t\t\treturn _create;\r\n\t\t\t}\r\n\t\t\telse return null;\t\r\n\t  }\r\n\r\n\t  createController() {\r\n\t\tvar _button = <Control onChangeMode={function(_mode){\r\n\t\t\tif(_mode === 'delete'){\r\n\t\t\t  if(window.confirm('really?')){\r\n\t\t\t\tvar _content = Array.from(this.state.contents);\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\twhile(i<this.state.contents.length){\r\n\t\t\t\t  if(_content[i].id === this.state.selected_content_id){\r\n\t\t\t\t\t_content.splice(i,1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t  }\r\n\t\t\t\t  i =i+1\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t  mode:'welcome',\r\n\t\t\t\t  contents:_content,\r\n\t\t\t\t});\r\n\t\t\t\talert('deleted!');\r\n\t\t\t\t// this.setData();\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\tthis.setState({\r\n\t\t\t  mode:_mode\r\n\t\t\t});\r\n\t\t\t\r\n\t\t  }\r\n\t\t  }.bind(this)}></Control>\r\n\t\tif(this.state.mode != 'welcome'){\r\n\t\t  return _button;\r\n\t\t}\r\n\t\telse return null;\r\n\t  }\r\n\r\n\t  \r\n\r\n\t  render(){\r\n    \r\n\t\treturn(\r\n\t\t<div className=\"App\">\r\n\t\t<Subject title={this.state.subject.title} \r\n\t\tsub={this.state.subject.sub}\r\n\t\tonChangePage={function(){\r\n\t\t  this.setState({mode:'welcome'});\r\n\t\t  \r\n\t\t}.bind(this)}\r\n\t\t></Subject>\r\n\r\n\t\t<TOC onChangePage = {\r\n\t\t  function(id){ \r\n\t\t\tthis.setState({\r\n\t\t\t  mode:'read',\r\n\t\t\t  selected_content_id:Number(id)//문자를 숫자로 변경해주는 함수 Number\r\n\t\t\t});\r\n\t\t  }.bind(this)\r\n\t\t} data={this.state.contents}></TOC>\r\n\r\n\t\t{this.getContent()}\r\n\t\t\r\n\t\t{this.createController()}\r\n\t\r\n\t\t{this.creatArticle()}\r\n\t\t</div>\r\n\t\t);\r\n\t  }\r\n\t}\r\n\r\n\r\nexport default Board;"]},"metadata":{},"sourceType":"module"}