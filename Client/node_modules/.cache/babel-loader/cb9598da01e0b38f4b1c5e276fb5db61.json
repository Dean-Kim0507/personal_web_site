{"ast":null,"code":"import axios from \"axios\";\nconst formData = new FormData(); //if registration success, return \"Registration success\"\n\nconst register = async (user_data, imgFile) => {\n  console.log(user_data, imgFile);\n  formData.append('userID', user_data.userID);\n  formData.append('password', user_data.password);\n  formData.append('firstName', user_data.firstName);\n  formData.append('lastName', user_data.lastName);\n  formData.append('email', user_data.email);\n  formData.append('imgFile', imgFile);\n\n  for (var pair of formData.entries()) {\n    console.log(pair[0] + ', ' + pair[1]);\n  } // return await axios.post(\"/registration\", formData\n  // \t, {\n  // \t\theaders: {\n  // \t\t\t'Content-Type': 'multipart/form-data'\n  // \t\t}\n  // \t}\n  // )\n\n\n  return await axios.post({\n    method: 'post',\n    url: 'registration',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n};\n\nconst login = (userID, password) => {\n  const login_Data = {\n    userID: userID,\n    password: password\n  };\n  return axios.post(\"/login\", login_Data).then(response => {\n    console.log(response.data);\n\n    if (response.data.accessToken) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n\n    return response.data;\n  });\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nexport default {\n  register,\n  login,\n  logout\n};","map":{"version":3,"sources":["C:/Users/834043/Desktop/study/Personal_Web_Site/client/src/Services/Auth.service.jsx"],"names":["axios","formData","FormData","register","user_data","imgFile","console","log","append","userID","password","firstName","lastName","email","pair","entries","post","method","url","data","headers","login","login_Data","then","response","accessToken","localStorage","setItem","JSON","stringify","logout","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB,C,CACA;;AACA,MAAMC,QAAQ,GAAG,OAAOC,SAAP,EAAkBC,OAAlB,KAA8B;AAC9CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ,EAAuBC,OAAvB;AACAJ,EAAAA,QAAQ,CAACO,MAAT,CAAgB,QAAhB,EAA0BJ,SAAS,CAACK,MAApC;AACAR,EAAAA,QAAQ,CAACO,MAAT,CAAgB,UAAhB,EAA4BJ,SAAS,CAACM,QAAtC;AACAT,EAAAA,QAAQ,CAACO,MAAT,CAAgB,WAAhB,EAA6BJ,SAAS,CAACO,SAAvC;AACAV,EAAAA,QAAQ,CAACO,MAAT,CAAgB,UAAhB,EAA4BJ,SAAS,CAACQ,QAAtC;AACAX,EAAAA,QAAQ,CAACO,MAAT,CAAgB,OAAhB,EAAyBJ,SAAS,CAACS,KAAnC;AACAZ,EAAAA,QAAQ,CAACO,MAAT,CAAgB,SAAhB,EAA2BH,OAA3B;;AACA,OAAK,IAAIS,IAAT,IAAiBb,QAAQ,CAACc,OAAT,EAAjB,EAAqC;AAAET,IAAAA,OAAO,CAACC,GAAR,CAAYO,IAAI,CAAC,CAAD,CAAJ,GAAU,IAAV,GAAiBA,IAAI,CAAC,CAAD,CAAjC;AAAwC,GARjC,CAS9C;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAAO,MAAMd,KAAK,CAACgB,IAAN,CAAW;AACvBC,IAAAA,MAAM,EAAE,MADe;AAEvBC,IAAAA,GAAG,EAAE,cAFkB;AAGvBC,IAAAA,IAAI,EAAElB,QAHiB;AAIvBmB,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB;AAJc,GAAX,CAAb;AAQA,CAzBD;;AA2BA,MAAMC,KAAK,GAAG,CAACZ,MAAD,EAASC,QAAT,KAAsB;AACnC,QAAMY,UAAU,GAAG;AAClBb,IAAAA,MAAM,EAAEA,MADU;AAElBC,IAAAA,QAAQ,EAAEA;AAFQ,GAAnB;AAIA,SAAOV,KAAK,CAACgB,IAAN,CAAW,QAAX,EAAqBM,UAArB,EACLC,IADK,CACCC,QAAD,IAAc;AACnBlB,IAAAA,OAAO,CAACC,GAAR,CAAYiB,QAAQ,CAACL,IAArB;;AACA,QAAIK,QAAQ,CAACL,IAAT,CAAcM,WAAlB,EAA+B;AAC9BC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACL,IAAxB,CAA7B;AACA;;AACD,WAAOK,QAAQ,CAACL,IAAhB;AACA,GAPK,CAAP;AAQA,CAbD;;AAeA,MAAMW,MAAM,GAAG,MAAM;AACpBJ,EAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;AACA,CAFD;;AAIA,eAAe;AACd5B,EAAAA,QADc;AAEdkB,EAAAA,KAFc;AAGdS,EAAAA;AAHc,CAAf","sourcesContent":["import axios from \"axios\";\r\nconst formData = new FormData();\r\n//if registration success, return \"Registration success\"\r\nconst register = async (user_data, imgFile) => {\r\n\tconsole.log(user_data, imgFile)\r\n\tformData.append('userID', user_data.userID);\r\n\tformData.append('password', user_data.password);\r\n\tformData.append('firstName', user_data.firstName);\r\n\tformData.append('lastName', user_data.lastName);\r\n\tformData.append('email', user_data.email);\r\n\tformData.append('imgFile', imgFile);\r\n\tfor (var pair of formData.entries()) { console.log(pair[0] + ', ' + pair[1]); }\r\n\t// return await axios.post(\"/registration\", formData\r\n\t// \t, {\r\n\t// \t\theaders: {\r\n\t// \t\t\t'Content-Type': 'multipart/form-data'\r\n\t// \t\t}\r\n\t// \t}\r\n\t// )\r\n\r\n\treturn await axios.post({\r\n\t\tmethod: 'post',\r\n\t\turl: 'registration',\r\n\t\tdata: formData,\r\n\t\theaders: { 'Content-Type': 'multipart/form-data' }\r\n\t}\r\n\t)\r\n\r\n}\r\n\r\nconst login = (userID, password) => {\r\n\tconst login_Data = {\r\n\t\tuserID: userID,\r\n\t\tpassword: password\r\n\t}\r\n\treturn axios.post(\"/login\", login_Data)\r\n\t\t.then((response) => {\r\n\t\t\tconsole.log(response.data)\r\n\t\t\tif (response.data.accessToken) {\r\n\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(response.data));\r\n\t\t\t}\r\n\t\t\treturn response.data;\r\n\t\t});\r\n};\r\n\r\nconst logout = () => {\r\n\tlocalStorage.removeItem(\"user\");\r\n};\r\n\r\nexport default {\r\n\tregister,\r\n\tlogin,\r\n\tlogout\r\n};"]},"metadata":{},"sourceType":"module"}