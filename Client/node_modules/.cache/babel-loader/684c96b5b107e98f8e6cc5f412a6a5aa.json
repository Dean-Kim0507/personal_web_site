{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\834043\\\\Desktop\\\\study\\\\Personal_Web_Site\\\\client\\\\src\\\\Components\\\\AdminPage.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Table, Image, Button } from 'react-bootstrap';\nimport { useHistory } from \"react-router-dom\";\nimport AdminPageService from '../Services/AdminPage.service';\nimport '../css/AdminPage.css';\nimport { unauthorized_access } from \"./message\";\nimport { GET_USERS_SUCCESS, USER_NOT_FOUND } from \"./type\";\n\nfunction AdminPage(props) {\n  const {\n    isLoggedIn,\n    user\n  } = useSelector(state => state.auth);\n  const [users, setUsers] = useState(null);\n  let history = useHistory();\n  let tableNum = 0;\n  let keyNumber = 0;\n  const basicProfileImgPath = \"./uploadImages/icon/img_user.jpg\";\n  const IMG_WIDTH = 45;\n  const IMG_LENGTH = 50;\n  useEffect(() => {\n    if (!isLoggedIn || user.role != 1) {\n      alert(unauthorized_access);\n      history.push('/home');\n    }\n\n    AdminPageService.get_all_users(user).then(response => {\n      console.log(response.data);\n\n      if (response.data.message === USER_NOT_FOUND) {\n        setUsers(null);\n      } else if (response.data.message === GET_USERS_SUCCESS) {\n        setUsers(response.data.users);\n      }\n    });\n  }, []);\n\n  const adminPage_delete_user = data => {\n    console.log(data);\n  };\n\n  return /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    variant: \"dark\",\n    className: \"adminPage_table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, \"User ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 6\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }\n  }, \"Picture\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }, \"Signing up Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }\n  }, users != null ? users.map(data => {\n    if (data.profile_img_path != null) {\n      data.profile_img_path = data.profile_img_path.substring(16, data.profile_img_path.length);\n    } else {\n      data.profile_img_path = basicProfileImgPath;\n    }\n\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: tableNum,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, ++tableNum), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, data.userID), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, data.firstName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, data.lastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, data.lastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, data.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: data.profile_img_path,\n      width: IMG_WIDTH,\n      height: IMG_LENGTH,\n      alt: \"45x50\",\n      roundedCircle: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, data.createdAt), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, data.role_mywebsites[0].roleID === 1 ? 'Admin' : 'User'), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      key: keyNumber++,\n      onClick: adminPage_delete_user(data),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, \"Delete\")));\n  }) : null));\n}\n\nexport default AdminPage;","map":{"version":3,"sources":["C:/Users/834043/Desktop/study/Personal_Web_Site/client/src/Components/AdminPage.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","Table","Image","Button","useHistory","AdminPageService","unauthorized_access","GET_USERS_SUCCESS","USER_NOT_FOUND","AdminPage","props","isLoggedIn","user","state","auth","users","setUsers","history","tableNum","keyNumber","basicProfileImgPath","IMG_WIDTH","IMG_LENGTH","role","alert","push","get_all_users","then","response","console","log","data","message","adminPage_delete_user","map","profile_img_path","substring","length","userID","firstName","lastName","email","createdAt","role_mywebsites","roleID"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Table, Image, Button } from 'react-bootstrap';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AdminPageService from '../Services/AdminPage.service'\r\nimport '../css/AdminPage.css';\r\nimport {\r\n\tunauthorized_access\r\n} from \"./message\";\r\nimport {\r\n\tGET_USERS_SUCCESS,\r\n\tUSER_NOT_FOUND\r\n} from \"./type\";\r\n\r\nfunction AdminPage(props) {\r\n\r\n\tconst { isLoggedIn, user } = useSelector(state => state.auth);\r\n\tconst [users, setUsers] = useState(null);\r\n\tlet history = useHistory();\r\n\tlet tableNum = 0;\r\n\tlet keyNumber = 0;\r\n\tconst basicProfileImgPath = \"./uploadImages/icon/img_user.jpg\";\r\n\tconst IMG_WIDTH = 45;\r\n\tconst IMG_LENGTH = 50;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isLoggedIn || user.role != 1) {\r\n\t\t\talert(unauthorized_access);\r\n\t\t\thistory.push('/home');\r\n\t\t}\r\n\t\tAdminPageService.get_all_users(user)\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\tif (response.data.message === USER_NOT_FOUND) {\r\n\t\t\t\t\tsetUsers(null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (response.data.message === GET_USERS_SUCCESS) {\r\n\t\t\t\t\tsetUsers(response.data.users);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\tconst adminPage_delete_user = data => {\r\n\t\tconsole.log(data);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table striped bordered hover variant=\"dark\" className=\"adminPage_table\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t<th>User ID</th>\r\n\t\t\t\t\t<th>First Name</th>\r\n\t\t\t\t\t<th>Last Name</th>\r\n\t\t\t\t\t<th>Username</th>\r\n\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t<th>Picture</th>\r\n\t\t\t\t\t<th>Signing up Date</th>\r\n\t\t\t\t\t<th>Role</th>\r\n\t\t\t\t\t<th>Delete</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{users != null ?\r\n\t\t\t\t\tusers.map(data => {\r\n\t\t\t\t\t\tif (data.profile_img_path != null) {\r\n\t\t\t\t\t\t\tdata.profile_img_path = data.profile_img_path.substring(16, data.profile_img_path.length);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse { data.profile_img_path = basicProfileImgPath; }\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr key={tableNum}>\r\n\t\t\t\t\t\t\t\t<td>{++tableNum}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.userID}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.firstName}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.lastName}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.lastName}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.email}</td>\r\n\t\t\t\t\t\t\t\t<td><Image src={data.profile_img_path}\r\n\t\t\t\t\t\t\t\t\twidth={IMG_WIDTH}\r\n\t\t\t\t\t\t\t\t\theight={IMG_LENGTH}\r\n\t\t\t\t\t\t\t\t\talt=\"45x50\"\r\n\t\t\t\t\t\t\t\t\troundedCircle /></td>\r\n\t\t\t\t\t\t\t\t<td>{data.createdAt}</td>\r\n\t\t\t\t\t\t\t\t<td>{data.role_mywebsites[0].roleID === 1 ?\r\n\t\t\t\t\t\t\t\t\t'Admin'\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t'User'\r\n\t\t\t\t\t\t\t\t}</td>\r\n\t\t\t\t\t\t\t\t<td><Button key={keyNumber++} onClick={adminPage_delete_user(data)}\r\n\t\t\t\t\t\t\t\t>Delete</Button></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t:\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\t\t\t</tbody>\r\n\t\t</Table>\r\n\t);\r\n}\r\n\r\nexport default AdminPage;"]},"metadata":{},"sourceType":"module"}