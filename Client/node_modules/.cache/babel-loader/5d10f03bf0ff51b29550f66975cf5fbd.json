{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\834043\\\\Desktop\\\\study\\\\Personal_Web_Site\\\\client\\\\src\\\\Components\\\\ResetAccount.jsx\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Form, Col, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, Link } from 'react-router-dom';\nimport ForgotService from '../Services/Forgot.service';\nimport '../css/ResetAccount.css';\nimport { v_passwordMessage, v_confirmPasswordMessage, e_reset_password_token_expired, e_reset_password_token_notfound, reset_password_success } from \"./message\";\nimport { RESET_PASSWORD, RESET_PASSWORD_VERIFY_TOKEN, TOKEN_EXPIRED, TOKEN_NOTFOUND, RESET_PASSWORD_SUCCESS } from \"./type\";\n\nfunction ResetAccount(props) {\n  const [validated, setValidated] = useState(false);\n  const [password, setPassword] = useState(null);\n  const [confirmPassword, setConfirmPassword] = useState(null);\n  const [confirmPassword_invalid, setConfirmPassword_invalid] = useState();\n  const [passwordInvalid, setPasswordInvalid] = useState();\n  const token = props.match.params.token;\n  const email = props.match.params.email;\n\n  let _password;\n\n  let _confirm_password;\n\n  let history = useHistory();\n\n  const handleSubmit = event => {\n    const form = event.currentTarget;\n\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n      setValidated(true);\n    } else {\n      event.preventDefault();\n      ForgotService.reset_password({\n        token: token,\n        email: email,\n        password: password,\n        type: RESET_PASSWORD\n      }).then(response => {\n        if (response.data.message === RESET_PASSWORD_SUCCESS) {\n          alert(reset_password_success);\n          history.push('/login');\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    ForgotService.reset_password({\n      token: token,\n      type: RESET_PASSWORD_VERIFY_TOKEN\n    }).then(response => {\n      console.log('message: ', RESET_PASSWORD_SUCCESS);\n\n      if (response.data.message === TOKEN_EXPIRED) {\n        alert(e_reset_password_token_expired);\n        history.push('/home');\n      } else if (response.data.message === TOKEN_NOTFOUND) {\n        alert(e_reset_password_token_notfound);\n        history.push('/home');\n      }\n    }); //token 유효하지않으면 팅기게 하기, 로그인하면 팅기게하기\n  }, []); //validating password, password must be between 8 and 20 letter.\n\n  const onChangePassword = e => {\n    _password = e.target.value;\n\n    if (_password === undefined || _password.length < 8 || _password.length > 20) {\n      setPasswordInvalid(true);\n      setPassword(_password);\n    } else if (confirmPassword != null && _password != confirmPassword) {\n      setPasswordInvalid(false);\n      setConfirmPassword_invalid(true);\n      setPassword(_password);\n    } else if (confirmPassword != null && _password === confirmPassword) {\n      setPasswordInvalid(false);\n      setConfirmPassword_invalid(false);\n      setPassword(_password);\n    } else {\n      setPasswordInvalid(() => false);\n      setPassword(_password);\n\n      if (_password != confirmPassword) {\n        setConfirmPassword_invalid(true);\n      }\n    }\n  }; //validating confirm password, confirm password must be between 8 and 20 letter and the same as password.\n\n\n  const onChangeConfirmPassword = e => {\n    _confirm_password = e.target.value;\n\n    if (_confirm_password === undefined || _confirm_password.length < 8 || _confirm_password.length > 20) {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    } else if (password != null && _confirm_password != password) {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    } else if (password != null && _confirm_password === password) {\n      setConfirmPassword_invalid(false);\n      setConfirmPassword(_confirm_password);\n    } else {\n      setConfirmPassword_invalid(true);\n      setConfirmPassword(_confirm_password);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"resetAccount_whole\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    noValidate: true,\n    validated: validated,\n    onSubmit: handleSubmit,\n    className: \"resetAccount_form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }\n  }, \"Reset Password\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: {\n      offset: 4\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    className: \"resetAccount_password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"resetAccount_label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: onChangePassword,\n    isInvalid: passwordInvalid,\n    minLength: \"8\",\n    maxLength: \"20\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, v_passwordMessage)), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    md: \"4\",\n    className: \"registration_form_group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"registration_form_label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    required: true,\n    isInvalid: confirmPassword_invalid,\n    onChange: onChangeConfirmPassword,\n    minLength: \"8\",\n    maxLength: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, v_confirmPasswordMessage)), /*#__PURE__*/React.createElement(Button, {\n    className: \"resetAccount_button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 6\n    }\n  }, \"Set Password\"))));\n}\n\nexport default ResetAccount;","map":{"version":3,"sources":["C:/Users/834043/Desktop/study/Personal_Web_Site/client/src/Components/ResetAccount.jsx"],"names":["React","useState","useRef","useEffect","Form","Col","Button","useDispatch","useSelector","useHistory","Link","ForgotService","v_passwordMessage","v_confirmPasswordMessage","e_reset_password_token_expired","e_reset_password_token_notfound","reset_password_success","RESET_PASSWORD","RESET_PASSWORD_VERIFY_TOKEN","TOKEN_EXPIRED","TOKEN_NOTFOUND","RESET_PASSWORD_SUCCESS","ResetAccount","props","validated","setValidated","password","setPassword","confirmPassword","setConfirmPassword","confirmPassword_invalid","setConfirmPassword_invalid","passwordInvalid","setPasswordInvalid","token","match","params","email","_password","_confirm_password","history","handleSubmit","event","form","currentTarget","checkValidity","preventDefault","stopPropagation","reset_password","type","then","response","data","message","alert","push","console","log","onChangePassword","e","target","value","undefined","length","onChangeConfirmPassword","offset"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Form, Col, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport ForgotService from '../Services/Forgot.service';\r\nimport '../css/ResetAccount.css';\r\nimport {\r\n\tv_passwordMessage,\r\n\tv_confirmPasswordMessage,\r\n\te_reset_password_token_expired,\r\n\te_reset_password_token_notfound,\r\n\treset_password_success\r\n} from \"./message\";\r\nimport {\r\n\tRESET_PASSWORD,\r\n\tRESET_PASSWORD_VERIFY_TOKEN,\r\n\tTOKEN_EXPIRED,\r\n\tTOKEN_NOTFOUND,\r\n\tRESET_PASSWORD_SUCCESS\r\n} from \"./type\";\r\n\r\nfunction ResetAccount(props) {\r\n\r\n\tconst [validated, setValidated] = useState(false);\r\n\tconst [password, setPassword] = useState(null);\r\n\tconst [confirmPassword, setConfirmPassword] = useState(null);\r\n\tconst [confirmPassword_invalid, setConfirmPassword_invalid] = useState();\r\n\tconst [passwordInvalid, setPasswordInvalid] = useState();\r\n\tconst token = props.match.params.token;\r\n\tconst email = props.match.params.email;\r\n\tlet _password;\r\n\tlet _confirm_password;\r\n\tlet history = useHistory();\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tconst form = event.currentTarget;\r\n\t\tif (form.checkValidity() === false) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tsetValidated(true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tForgotService.reset_password({\r\n\t\t\t\ttoken: token,\r\n\t\t\t\temail: email,\r\n\t\t\t\tpassword: password,\r\n\t\t\t\ttype: RESET_PASSWORD\r\n\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tif (response.data.message === RESET_PASSWORD_SUCCESS) {\r\n\t\t\t\t\t\talert(reset_password_success);\r\n\t\t\t\t\t\thistory.push('/login');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tForgotService.reset_password({\r\n\t\t\ttoken: token,\r\n\t\t\ttype: RESET_PASSWORD_VERIFY_TOKEN\r\n\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log('message: ', RESET_PASSWORD_SUCCESS);\r\n\t\t\t\tif (response.data.message === TOKEN_EXPIRED) {\r\n\t\t\t\t\talert(e_reset_password_token_expired);\r\n\t\t\t\t\thistory.push('/home');\r\n\t\t\t\t}\r\n\t\t\t\telse if (response.data.message === TOKEN_NOTFOUND) {\r\n\t\t\t\t\talert(e_reset_password_token_notfound);\r\n\t\t\t\t\thistory.push('/home');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t//token 유효하지않으면 팅기게 하기, 로그인하면 팅기게하기\r\n\t}, [])\r\n\r\n\t//validating password, password must be between 8 and 20 letter.\r\n\tconst onChangePassword = (e) => {\r\n\t\t_password = e.target.value;\r\n\t\tif (_password === undefined || _password.length < 8 || _password.length > 20) {\r\n\t\t\tsetPasswordInvalid(true);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse if (confirmPassword != null && _password != confirmPassword) {\r\n\t\t\tsetPasswordInvalid(false);\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse if (confirmPassword != null && _password === confirmPassword) {\r\n\t\t\tsetPasswordInvalid(false);\r\n\t\t\tsetConfirmPassword_invalid(false);\r\n\t\t\tsetPassword(_password);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetPasswordInvalid(() => false);\r\n\t\t\tsetPassword(_password);\r\n\t\t\tif (_password != confirmPassword) {\r\n\t\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t//validating confirm password, confirm password must be between 8 and 20 letter and the same as password.\r\n\tconst onChangeConfirmPassword = (e) => {\r\n\r\n\t\t_confirm_password = e.target.value;\r\n\t\tif (_confirm_password === undefined || _confirm_password.length < 8 || _confirm_password.length > 20) {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse if (password != null && _confirm_password != password) {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse if (password != null && _confirm_password === password) {\r\n\t\t\tsetConfirmPassword_invalid(false);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetConfirmPassword_invalid(true);\r\n\t\t\tsetConfirmPassword(_confirm_password);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"resetAccount_whole\">\r\n\t\t\t< Form\r\n\t\t\t\tnoValidate validated={validated}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\tclassName=\"resetAccount_form\"\r\n\t\t\t>\r\n\t\t\t\t<h1>Reset Password</h1>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<Col md={{ offset: 4 }}>\r\n\t\t\t\t\t<Form.Group as={Col} md=\"4\" className=\"resetAccount_password\">\r\n\t\t\t\t\t\t<Form.Label className=\"resetAccount_label\">Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control type=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\tonChange={onChangePassword}\r\n\t\t\t\t\t\t\tisInvalid={passwordInvalid}\r\n\t\t\t\t\t\t\tminLength=\"8\"\r\n\t\t\t\t\t\t\tmaxLength=\"20\"\r\n\t\t\t\t\t\t\trequired />\r\n\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\t\t\t{v_passwordMessage}\r\n\t\t\t\t\t\t</Form.Control.Feedback>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group as={Col} md=\"4\" className=\"registration_form_group\">\r\n\t\t\t\t\t\t<Form.Label className=\"registration_form_label\">Confirm Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tisInvalid={confirmPassword_invalid}\r\n\t\t\t\t\t\t\tonChange={onChangeConfirmPassword}\r\n\t\t\t\t\t\t\tminLength=\"8\" maxLength=\"20\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\r\n\t\t\t\t\t\t\t{v_confirmPasswordMessage}\r\n\t\t\t\t\t\t</Form.Control.Feedback>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Button className=\"resetAccount_button\" type=\"submit\">Set Password</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Form >\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ResetAccount;"]},"metadata":{},"sourceType":"module"}