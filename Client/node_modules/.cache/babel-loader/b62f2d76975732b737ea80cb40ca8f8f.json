{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\834043\\\\Desktop\\\\study\\\\Personal_Web_Site\\\\client\\\\src\\\\Components\\\\AdminPage.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Table } from 'react-bootstrap';\nimport { useHistory } from \"react-router-dom\";\nimport AdminPageService from '../Services/AdminPage.service';\nimport { unauthorized_access } from \"./message\";\nimport { GET_USERS_SUCCESS, USER_NOT_FOUND } from \"./type\";\n\nfunction AdminPage(props) {\n  const {\n    isLoggedIn,\n    user\n  } = useSelector(state => state.auth);\n  const [users, setUsers] = useState(null);\n  let history = useHistory();\n  let num = 0;\n  useEffect(() => {\n    if (!isLoggedIn || user.role != 1) {\n      alert(unauthorized_access);\n      history.push('/home');\n    }\n\n    AdminPageService.get_all_users(user).then(response => {\n      console.log(response.data);\n\n      if (response.data.message === USER_NOT_FOUND) {\n        setUsers(null);\n      } else if (response.data.message === GET_USERS_SUCCESS) {\n        setUsers(response.data.users);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 6\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 6\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 6\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 6\n    }\n  }, \"Username\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }\n  }, users.map(data => {\n    /*#__PURE__*/\n    React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, data.userID), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, data.firstName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, data.lastName));\n  })));\n}\n\nexport default AdminPage;","map":{"version":3,"sources":["C:/Users/834043/Desktop/study/Personal_Web_Site/client/src/Components/AdminPage.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","Table","useHistory","AdminPageService","unauthorized_access","GET_USERS_SUCCESS","USER_NOT_FOUND","AdminPage","props","isLoggedIn","user","state","auth","users","setUsers","history","num","role","alert","push","get_all_users","then","response","console","log","data","message","map","userID","firstName","lastName"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,SACCC,mBADD,QAEO,WAFP;AAGA,SACCC,iBADD,EAECC,cAFD,QAGO,QAHP;;AAKA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAEzB,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAuBV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAAxC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,IAAD,CAAlC;AACA,MAAIkB,OAAO,GAAGb,UAAU,EAAxB;AACA,MAAIc,GAAG,GAAG,CAAV;AACAlB,EAAAA,SAAS,CAAC,MAAM;AACf,QAAI,CAACW,UAAD,IAAeC,IAAI,CAACO,IAAL,IAAa,CAAhC,EAAmC;AAClCC,MAAAA,KAAK,CAACd,mBAAD,CAAL;AACAW,MAAAA,OAAO,CAACI,IAAR,CAAa,OAAb;AACA;;AACDhB,IAAAA,gBAAgB,CAACiB,aAAjB,CAA+BV,IAA/B,EACEW,IADF,CACOC,QAAQ,IAAI;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;;AACA,UAAIH,QAAQ,CAACG,IAAT,CAAcC,OAAd,KAA0BpB,cAA9B,EAA8C;AAC7CQ,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,OAFD,MAGK,IAAIQ,QAAQ,CAACG,IAAT,CAAcC,OAAd,KAA0BrB,iBAA9B,EAAiD;AACrDS,QAAAA,QAAQ,CAACQ,QAAQ,CAACG,IAAT,CAAcZ,KAAf,CAAR;AACA;AACD,KATF;AAUA,GAfQ,EAeN,EAfM,CAAT;AAiBA,sBAEC,oBAAC,KAAD;AAAO,IAAA,OAAO,MAAd;AAAe,IAAA,QAAQ,MAAvB;AAAwB,IAAA,KAAK,MAA7B;AAA8B,IAAA,OAAO,EAAC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJD,CADD,CADD,eASC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEA,KAAK,CAACc,GAAN,CAAUF,IAAI,IAAI;AAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAACG,MAAV,CAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,IAAI,CAACI,SAAV,CAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKJ,IAAI,CAACK,QAAV,CAJD;AAMA,GAPA,CADF,CATD,CAFD;AAuBA;;AAED,eAAevB,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Table } from 'react-bootstrap';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AdminPageService from '../Services/AdminPage.service'\r\nimport {\r\n\tunauthorized_access\r\n} from \"./message\";\r\nimport {\r\n\tGET_USERS_SUCCESS,\r\n\tUSER_NOT_FOUND\r\n} from \"./type\";\r\n\r\nfunction AdminPage(props) {\r\n\r\n\tconst { isLoggedIn, user } = useSelector(state => state.auth);\r\n\tconst [users, setUsers] = useState(null);\r\n\tlet history = useHistory();\r\n\tlet num = 0;\r\n\tuseEffect(() => {\r\n\t\tif (!isLoggedIn || user.role != 1) {\r\n\t\t\talert(unauthorized_access);\r\n\t\t\thistory.push('/home');\r\n\t\t}\r\n\t\tAdminPageService.get_all_users(user)\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\tif (response.data.message === USER_NOT_FOUND) {\r\n\t\t\t\t\tsetUsers(null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (response.data.message === GET_USERS_SUCCESS) {\r\n\t\t\t\t\tsetUsers(response.data.users);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\r\n\t\t<Table striped bordered hover variant=\"dark\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t<th>First Name</th>\r\n\t\t\t\t\t<th>Last Name</th>\r\n\t\t\t\t\t<th>Username</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{users.map(data => {\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t{/* <td>{num++}</td> */}\r\n\t\t\t\t\t\t<td>{data.userID}</td>\r\n\t\t\t\t\t\t<td>{data.firstName}</td>\r\n\t\t\t\t\t\t<td>{data.lastName}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t})}\r\n\t\t\t</tbody>\r\n\t\t</Table>\r\n\t);\r\n}\r\n\r\nexport default AdminPage;"]},"metadata":{},"sourceType":"module"}